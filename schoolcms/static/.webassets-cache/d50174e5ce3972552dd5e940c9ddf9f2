V/** @jsx React.DOM */\u000a\u000aSC.AnnIndexPage = React.createClass({displayName: 'AnnIndexPage',\u000a  getInitialState: function() {\u000a    return {\u000a      annlist: [],\u000a    };\u000a  },\u000a  componentDidMount: function(){\u000a    var url = '/api'+window.location.pathname+window.location.search;\u000a    this.props.ajax(url,function(data){\u000a      this.setState({annlist:data.anns,start:data.start,totle:data.totle});\u000a    }.bind(this));\u000a  },\u000a  handleSearch: function(search){\u000a    var url = SC.makeURL(window.location.pathname,{\u000a                  'start': this.props.start,\u000a                  'totle': this.props.totle,\u000a                  'search': search,\u000a                });\u000a    RMR.navigate(url);\u000a  },\u000a  render: function() {\u000a    var annItems = this.state.annlist.map(function (ann) {\u000a      return (\u000a        React.createElement("tr", {key: ann.id}, \u000a          React.createElement("td", null, React.createElement("a", {href: '/announce/'+ann.id}, ann.title)), \u000a          React.createElement("td", null, ann.created)\u000a        )\u000a      );\u000a    });\u000a    return (\u000a      React.createElement("div", null, \u000a        React.createElement(RB.Grid, null, \u000a          React.createElement(RB.Row, null, \u000a            React.createElement(RB.Col, {xs: 12, md: 6}, \u000a              React.createElement("h1", null, "Announcement"), \u000a              React.createElement("a", {href: "/announce/edit"}, "New Announcement!"), \u000a              React.createElement(SC.SearchAnnForm, {search: this.props.search, onSearch: this.handleSearch})\u000a            )\u000a          ), \u000a          React.createElement(RB.Row, null, React.createElement(RB.Col, {xs: 12, md: 12}, \u000a            React.createElement(RB.Well, null, \u000a              React.createElement(RB.Table, {striped: true, bordered: true, hover: true}, \u000a                React.createElement("thead", null, \u000a                  React.createElement("tr", null, React.createElement("th", null, "\u6a19\u984c"), React.createElement("th", null, "\u516c\u544a\u6642\u9593", this.props.start))\u000a                ), \u000a                React.createElement("tbody", null, annItems)\u000a              )\u000a            ), \u000a            React.createElement(SC.Pager, {start: this.props.start, totle: this.props.search})\u000a          ))\u000a        )\u000a      )\u000a    );\u000a  }\u000a});\u000a\u000a\u000aSC.SearchAnnForm = React.createClass({displayName: 'SearchAnnForm',\u000a  mixins: [React.addons.LinkedStateMixin],\u000a  getInitialState: function() {\u000a    return {\u000a      search: this.props.search,\u000a    };\u000a  },\u000a  handleClick: function(){\u000a    this.props.onSearch(this.state.search);\u000a  },\u000a  render: function() {\u000a    var search_button = (\u000a      React.createElement(RB.Button, {bsStyle: "primary", className: "btn-flat", onClick: this.handleClick}, "\u641c\u5c0b")\u000a    );\u000a    return (\u000a      React.createElement("form", null, \u000a        React.createElement(RB.Input, {rel: "search", type: "text", name: "search", valueLink: this.linkState('search'), \u000a            placeholder: "\u641c\u5c0b\u516c\u544a", \u000a            buttonAfter: search_button})\u000a      )\u000a    );\u000a  }\u000a})\u000a\u000a\u000aSC.Pager = React.createClass({displayName: 'Pager',\u000a  pageUrl: function(start){\u000a    return '/announce?start='+start;\u000a  },\u000a  render: function() {\u000a    var max = function(a,b){return a>b?a:b;};\u000a    var min = function(a,b){return a<b?a:b;};\u000a    return (  \u000a      React.createElement(RB.Pager, null, \u000a        React.createElement(RB.PageItem, {previous: true, href: this.pageUrl(max(0,this.props.start-10)), disabled: this.props.start<=0}, "\u2190 Previous Page"), \u000a        React.createElement(RB.PageItem, {next: true, href: this.pageUrl(this.props.start+10), disabled: this.props.start+10>=this.props.totle}, "Next Page \u2192")\u000a      )\u000a    );\u000a  }\u000a});
p1
.